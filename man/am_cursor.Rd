% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cursors.R
\name{am_cursor}
\alias{am_cursor}
\title{Create a cursor at a position in a text object}
\usage{
am_cursor(obj, position)
}
\arguments{
\item{obj}{An Automerge object ID (must be a text object)}

\item{position}{Integer position in the text (0-based indexing, consistent
with \code{am_text_splice()}). Position 0 is before the first character,
position 1 is before the second character, etc.}
}
\value{
An \code{am_cursor} object (external pointer) that can be used with
\code{\link[=am_cursor_position]{am_cursor_position()}} to retrieve the current position
}
\description{
Cursors provide stable references to positions within text objects that
automatically adjust as the text is edited. This enables features like
maintaining selection positions across concurrent edits in collaborative
editing scenarios.
}
\section{Character Indexing}{

Positions use 0-based indexing (like C and \code{am_text_splice()}) and count
Unicode code points (characters), not bytes. For example, in the text
"HelloðŸ˜€", the emoji is at position 5, and each character (including emoji)
counts as 1 position.
}

\examples{
doc <- am_create()
am_put(doc, AM_ROOT, "text", am_text("Hello World"))
text_obj <- am_get(doc, AM_ROOT, "text")

# Create cursor at position 5 (after "Hello", before " ")
cursor <- am_cursor(text_obj, 5)

# Modify text before cursor
am_text_splice(text_obj, 0, 0, "Hi ")

# Cursor position automatically adjusts
new_pos <- am_cursor_position(text_obj, cursor)
print(new_pos)  # 8 (cursor moved by 3 characters)
}
